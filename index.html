<!DOCTYPE html>   
<html>   
<head>  
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<link rel="manifest" href="manifest.json"> 
<title> Login Page </title>  
<style>   
Body {  
  font-family: Calibri, Helvetica, sans-serif;  
  background-color: pink;  
}  
button {   
       background-color: #4CAF50;   
       width: 100%;  
        color: gold;   
        padding: 15px;   
        margin: 10px 0px;   
        border: none;   
        cursor: pointer; 
        font-weight: bold;  
         }   
 form {   
        border: 3px solid #f1f1f1;   
    }   
 input[type=text], input[type=password] {   
        width: 100%;   
        margin: 8px 0;  
        padding: 12px 20px;   
        display: inline-block;   
        border: 2px solid green;   
        box-sizing: border-box;   
    }  
 button:hover {   
        opacity: 0.7;   
    }   
  .cancelbtn {   
        width: auto;   
        padding: 10px 18px;  
        margin: 10px 5px;  
    }   
        
     
 .container {   
        padding: 25px;   
        background-color: lightblue;  
    }   
</style>
<script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyAcOqmnMx2GFxDsD2qTQFMJkYvFwpz2NsI",
        authDomain: "hans-first-project.firebaseapp.com",
        projectId: "hans-first-project",
        storageBucket: "hans-first-project.appspot.com",
        messagingSenderId: "835626679160",
        appId: "1:835626679160:web:22a525aa9f17cd5bcde68d",
        measurementId: "G-3H581BPY6M"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
</script>  
<script type="text/javascript">
if (!window.CleverTapWebView)
{
    var clevertap = {event:[], profile:[], region:'eu1' ,account:[], onUserLogin:[], notifications:[], privacy:[]};
    // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
    clevertap.account.push({"id": "RK4-45K-W56Z"});
    //clevertap.account.push({"id": "W67-774-7Z5Z"});
    clevertap.privacy.push({optOut: false}); //set the flag to true, if the user of the device opts out of sharing their data
    clevertap.privacy.push({useIP: false}); //set the flag to true, if the user agrees to share their IP data
    clevertap.enablePersonalization = true; // enables Personalization
    (function () {
            var wzrk = document.createElement('script');
            wzrk.type = 'text/javascript';
            wzrk.async = true;
            wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/clevertap.min.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wzrk, s);
    })();
    clevertap.init('RK4-45K-W56Z', 'eu1'); // Replace with values applicable to you
    clevertap.setLogLevel(3);
}   
</script> 
</head>    
<body onload="onLoadFunction()">    
    <center> <h1> Paxel Market</h1> </center>
    <h3 id="currentID">Clevertap ID is : </h3>
    <p id="agent"></p>   
        <div class="container" id="login_form">   
            <label>Identity : </label>   
            <input type="text" placeholder="Enter Username" name="username" required id="identity">  
            <label>Password : </label>   
            <input type="password" placeholder="Enter Password" name="password" required>  
            <button onclick="onLoginFunction()">Login</button>
        </div>
        <button onclick="SendEventFunction()">Send Event</button>     
        <button onclick="SendEventFunctionAddtoCartProduct1()">Add to cart product 1</button>
        <button onclick="SendEventFunctionAddtoCartProduct2()">Add to cart product 2</button>
        <button onclick="SendEventFunctionAddtoCartProduct3()">Add to cart product 3</button>
        <button onclick="SendEventFunctionViewCart()">View Cart</button>
        <button onclick="SendEventFunctionCheckout()">Checkout</button>
</body>
<script>
    function onLoadFunction() {
        Agent = navigator?.userAgent || window?.navigator?.userAgent;
        console.log(Agent);
        document.getElementById("agent").innerText = Agent
        var currentID = document.getElementById("currentID");
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Open Paxel Market from Webview");
            currentID.textContent += "ID is from APP";

            document.getElementById("login_form").innerHTML = "";
        }
        else{
            clevertap.event.push("Open Paxel Market from Web");
            currentID.textContent += clevertap.getCleverTapID();
        }
        clevertap.notifications.push({
        "titleText":'Would you like to receive Push Notifications?',
        "bodyText":'We promise to only send you relevant content and give you updates on your transactions',
        "okButtonText":'Sign me up!',
        "rejectButtonText":'No thanks',
        "okButtonColor":'#f28046',
        "askAgainTimeInSeconds":5,
        "serviceWorkerPath": "clevertap_sw.js"});
    }
    function SendEventFunction() {
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Event From Webview Paxel Market");
        }
        else{
            clevertap.event.push("Event From Web Paxel Market");
        }
    }

    function SendEventFunctionAddtoCartProduct1() {
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Add to cart produt 1 Webview");
        }
        else{
            clevertap.event.push("Add to cart produt 1 Web");
        }
    }

    function SendEventFunctionAddtoCartProduct2() {
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Add to cart produt 2 Webview");
        }
        else{
            clevertap.event.push("Add to cart produt 2 Web");
        }
    }

    function SendEventFunctionAddtoCartProduct3() {
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Add to cart produt 3 Webview");
        }
        else{
            clevertap.event.push("Add to cart produt 3 Web");
        }
    }

    function SendEventFunctionViewCart() {
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Viewcart Paxel Market Webview");
        }
        else{
            clevertap.event.push("Viewcart Paxel Market Web");
        }
    }

    function SendEventFunctionCheckout(){
        if(window.CleverTapWebView){
            CleverTapWebView.pushEvent("Checkout Webview");
        }
        else{
            clevertap.event.push("Checkout Web");
        }
    }

    function onLoginFunction() {
      var identity = document.getElementById("identity").value;
      
      clevertap.onUserLogin.push({
       "Site": {
          "Identity": identity,
       }
      });

      var currentID = document.getElementById("currentID");
      currentID.textContent = "Clevertap ID is : " +clevertap.getCleverTapID();
      //alert("name : " + name + "\n email :" + email + "\n identity : " + identity);
      alert("login success");
    }

    function LoginOther(){
        if(window.CleverTapWebView){
            var props = {Identity: '12434', Email: 'xyz@xyz.com'};
            CleverTapWebView.onUserLogin(JSON.stringify(props));
        }
        else{
            alert("not load from app");
        }
    }
</script>     
</html>  
